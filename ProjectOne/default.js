
var restuarant1 = {
  name: 'Taco Taco!',
  type: 'Mexican',
  numberOfReviews: 34,
  stars: 4.5,
  //image:
  reviews: reviewsOfRestuarant1
};

var restuarant2 = {
  name: 'Pizza Unlimited',
  type: 'Pizza',
  numberOfReviews: 14,
  stars: 3,
  //image:
  reviews: reviewsOfRestuarant2
};

var restuarant3 = {
  name: 'Urban Plates',
  type: 'American',
  numberOfReviews: 198,
  stars: 4,
//  image:
  reviews: reviewsOfRestuarant3
};

var restuarant4 = {
  name: 'Burger!',
  type: 'American',
  numberOfReviews: 56,
  stars: 3.5,
  //image:
  reviews: reviewsOfRestuarant4
};

var restuarant5 = {
  name: 'Pizza Cafe',
  type: 'Pizza',
  numberOfReviews: 74,
  stars: 4,
  //image:
  reviews: reviewsOfRestuarant5
};

var restuarant6 = {
  name: 'Aioli',
  type: 'American',
  numberOfReviews: 201,
  stars: 5,
  //image:
  reviews: reviewsOfRestuarant6
};

var restuarant7 = {
  name: 'Mod Pizza',
  type: 'Pizza',
  numberOfReviews: 93,
  stars: 4.5,
  //image:
  reviews: reviewsOfRestuarant7
};

var reviewsOfRestuarant1 =[
  review1 = {
    name: 'Tom',
    content: '1Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review2 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review3 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  }
]

var reviewsOfRestuarant2 =[
  review1 ={
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review2 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review3 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  }
]

var reviewsOfRestuarant3 =[
  review1 = {
    name: 'Tom',
    content: '1Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review2 = {
    name: 'Tom',
    content: '2Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review3 = {
    name: 'Tom',
    content: '3Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  }
]

var reviewsOfRestuarant4 =[
   review1 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review2 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review3 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  }
]

var reviewsOfRestuarant5 =[
  review1 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review2 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review3 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  }
]

var reviewsOfRestuarant6 =[
  review1 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review2 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review3 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  }
]

var reviewsOfRestuarant7 =[
  review1 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review2 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  },
  review3 = {
    name: 'Tom',
    content: 'Uneasy barton seeing remark happen his has. Am possible offering at contempt mr distance stronger an. Attachment excellence announcing or reasonable am on if indulgence. Exeter talked in agreed spirit no he unable do. Betrayed shutters in vicinity it unpacked in. In so impossible appearance considered mr. Mrs him left find are good.'
  }
]

var userReview = [];
//var searchFail = document.createTextNode('Sorry but your search brought zero results.');
//var failH1 = document.createElement('h1');
//failH1.appendChild(searchFail);
var restuarantArray = [ restuarant1, restuarant2, restuarant3, restuarant4, restuarant5, restuarant6, restuarant7 ];
var search;
var restuarants = document.getElementById('restuarants');
var searchButton = document.getElementById('form1');
var newDiv = document.createElement('div');
var newH5 = document.createElement('h5');
restuarant1.reviews = reviewsOfRestuarant1.slice(0);
restuarant2.reviews = reviewsOfRestuarant2.slice(0);
restuarant3.reviews = reviewsOfRestuarant3.slice(0);
restuarant4.reviews = reviewsOfRestuarant4.slice(0);
restuarant5.reviews = reviewsOfRestuarant5.slice(0);
restuarant6.reviews = reviewsOfRestuarant6.slice(0);
restuarant7.reviews = reviewsOfRestuarant7.slice(0);


function sortRestuarants(array,b) {
  for (var i = 0; i< array.length; i++){
    var a = array[i];
    if ((a.type.toLowerCase() == b) || (a.name.toLowerCase() == b)){
      addRestuarant(array[i]);
    } else /*if (!(a.type.toLowerCase() == b) && !(a.name.toLowerCase() == b))*/{
      //restuarants.appendChild(failH1);
      }
    }
  };

function stopRefresh(event) {
  var element = restuarants;
  while(element.firstChild){
    element.removeChild(element.firstChild);
  }
  event.preventDefault();
  search = document.getElementById('search-bar').value;
  sortRestuarants(restuarantArray, search.toLowerCase());
};

function addReviews(array){
  var temp = array;
  var reviewContent = document.createTextNode(temp.content);
  var reviewName = document.createTextNode(temp.name);
  newH5 = document.createElement('h5');
  var newP = document.createElement('p');
  newP.appendChild(reviewContent);
  newH5.appendChild(reviewName);
  newH5.appendChild(newP);
  return newH5;
};

function addRestuarant(array){
    var name = array.name;
    var stars = array.stars;
    var reviews = array.reviews;
    var i = 0;
    var showButton = document.createElement('button');
    showButton.setAttribute('type', 'button');
    showButton.setAttribute('class', 'show-reviews');
    var buttonContent = document.createTextNode('Show Reviews');
    newDiv = document.createElement('div');
    newDiv.className = "hidden media-body";
    var newDivContainer = document.createElement('div');
    newDivContainer.className = "media well";
    var newDivMediaLeft = document.createElement('div');
    newDivMediaLeft.className = "media-left";
    var newAnchor = document.createElement('a');
    var newImage = document.createElement('img');
    while  (i<reviews.length){
      addReviews(array.reviews[i]);
      newDiv.appendChild(newH5);
      i++;
    }
    var nameContent = document.createTextNode(name);
    var starContent = document.createTextNode(stars);
    var restuarantName = document.createElement('h3');
    var restuarantStars = document.createElement('p');
    showButton.appendChild(buttonContent);
    restuarantName.appendChild(nameContent);
    restuarantStars.appendChild(starContent);
    newDivMediaLeft.appendChild(restuarantName);
    newDivMediaLeft.appendChild(restuarantStars);
    newDivMediaLeft.appendChild(showButton);
    newDivContainer.appendChild(newDivMediaLeft);
    newDivContainer.appendChild(newDiv);
    restuarants.appendChild(newDivContainer);
    var showReviews = document.getElementsByClassName('show-reviews')
    reviewButtonPress();
};

function reviewButtonPress(){
  var classname = document.getElementsByClassName('show-reviews');
  for (var i = 0; i < classname.length; i++) {
    classname[i].addEventListener('click', showReviews);
  }
};

function showReviews(){
  var div = document.getElementsByTagName('div');
  for (var i = 0; i < div.length; i++) {
    if(div[i].className === "hidden media-body"){
    div[i].setAttribute('class', 'media-body');
  } else if (div[i].className === "media-body") {
    div[i].setAttribute('class', 'hidden media-body');
    }
  }
};

searchButton.addEventListener("submit", stopRefresh);

//console.log(restuarant7.reviews[1].name);
